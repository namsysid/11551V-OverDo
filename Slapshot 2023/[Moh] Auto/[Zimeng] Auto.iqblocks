{"mode":"Blocks","workspace":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"broadcast_msg\" id=\"T)C8@ODYLPB=`/l5MTE)\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">message1</variable><variable type=\"broadcast_msg\" id=\"2.=Zx`EH7rvja[ZWgE|}\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">BlueGoalUp</variable><variable type=\"broadcast_msg\" id=\"hyY`CJ{5Xkt8za]27l3N\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">BlueGoalDn</variable><variable type=\"broadcast_msg\" id=\"Uo/I^v-o$yLu[lz:y7t/\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">fire</variable><variable type=\"\" id=\"^6/Xkwdc5.meIb/xE=l4\" islocal=\"false\" iscloud=\"false\" arraylength=\"0\" arraywidth=\"0\">prongs</variable></variables><block type=\"iq_events_when_started\" id=\"e)|YTm=v*A{mXM(I],Bl\" x=\"-590\" y=\"-390\"><next><block type=\"iq_motion_set_motor_torque\" id=\"kZndAt(fz2OMFP1BBiGp\"><field name=\"MOTOR\">BlueGoal</field><value name=\"TORQUE\"><shadow type=\"math_number\" id=\"l1Uoua%:jk_`W2|Y0fh-\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"iq_motion_set_motor_velocity\" id=\"J/?_udrgP}t=Ax,kb6wp\"><field name=\"MOTOR\">BlueGoal</field><field name=\"UNITS\">pct</field><value name=\"VELOCITY\"><shadow type=\"math_number\" id=\"@;8JL}*nki%aVpQ!cv?Z\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"iq_sensing_inertial_calibrate\" id=\"^hE|_Al%UskF58[ce4{n\"><field name=\"INERTIAL\">BrainInertial</field><next><block type=\"iq_sensing_set_gyro_heading\" id=\"b2aI^HATXC00:Z6MKLPf\"><field name=\"GYRO\">BrainInertial</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\",d)q.B[N,@slicP`J8Ii\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"iq_drivetrain_set_drive_velocity\" id=\"eKgE]!!Fw!p^Gc*XR#:}\"><field name=\"UNITS\">pct</field><value name=\"VELOCITY\"><shadow type=\"math_number\" id=\"3PZvn[xXQl`SFWDtw3sY\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"iq_drivetrain_drive_for\" id=\"fPwZt(w{U}AB(d6Zg:SZ\"><field name=\"DIRECTION\">fwd</field><field name=\"UNITS\">in</field><field name=\"anddontwait_mutator\">FALSE</field><value name=\"AMOUNT\"><shadow type=\"math_number\" id=\"awx(F8MGeyq}BzCKzGXT\"><field name=\"NUM\">37.5</field></shadow></value><next><block type=\"iq_drivetrain_turn_to_heading\" id=\"m4s@_9P_TtupK{%a6YM0\"><field name=\"anddontwait_mutator\">FALSE</field><value name=\"HEADING\"><shadow type=\"math_number\" id=\"j+Z*P{h?/gAQ?%+Cmb,.\"><field name=\"NUM\">90</field></shadow></value><next><block type=\"iq_drivetrain_drive_for\" id=\"6t7tb%?iI2`bU*#^rKH{\"><field name=\"DIRECTION\">rev</field><field name=\"UNITS\">in</field><field name=\"anddontwait_mutator\">FALSE</field><value name=\"AMOUNT\"><shadow type=\"math_number\" id=\"TV^XJWr0l]T64-S%+ynv\"><field name=\"NUM\">9</field></shadow></value><next><block type=\"iq_drivetrain_turn_to_heading\" id=\"`R;Q2g/Wy^G9BRLyZ4Ng\"><field name=\"anddontwait_mutator\">FALSE</field><value name=\"HEADING\"><shadow type=\"math_number\" id=\":p*4Z__p~o2ZyQuspwQJ\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"iq_control_wait\" id=\"0aJ$Rc!q)CVYF$3iNNP)\"><value name=\"DURATION\"><shadow type=\"math_positive_number\" id=\"/yJd)r/B?AE}`L6j#IU^\"><field name=\"NUM\">.2</field></shadow></value><next><block type=\"iq_drivetrain_drive_for\" id=\"o}ZTkPcFHA%wYoN4|T8b\"><field name=\"DIRECTION\">rev</field><field name=\"UNITS\">mm</field><field name=\"anddontwait_mutator\">FALSE</field><value name=\"AMOUNT\"><shadow type=\"math_number\" id=\"E9#C![{Z}M#C}]rGFMlA\"><field name=\"NUM\">55</field></shadow></value><next><block type=\"iq_control_wait\" id=\"*bLEeA5Hb?vXnRa`}SW/\"><value name=\"DURATION\"><shadow type=\"math_positive_number\" id=\"]*ac*4(o]bOCOH8AELNn\"><field name=\"NUM\">0.2</field></shadow></value><next><block type=\"iq_drivetrain_drive_for\" id=\"A-|O!v*O^jtP+Pz6a?8r\"><field name=\"DIRECTION\">fwd</field><field name=\"UNITS\">mm</field><field name=\"anddontwait_mutator\">FALSE</field><value name=\"AMOUNT\"><shadow type=\"math_number\" id=\"1fw-+_tU?ZFZy9u3L^qh\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"iq_drivetrain_turn_to_heading\" id=\"=E4JfYinZH1FW(GeyTP;\"><field name=\"anddontwait_mutator\">FALSE</field><value name=\"HEADING\"><shadow type=\"math_number\" id=\"ITVk^oni97UOc7(m%Ale\"><field name=\"NUM\">270</field></shadow></value><next><block type=\"iq_drivetrain_drive_for\" id=\"7l7B0T]dUZ{%eCL#1-76\"><field name=\"DIRECTION\">rev</field><field name=\"UNITS\">in</field><field name=\"anddontwait_mutator\">FALSE</field><value name=\"AMOUNT\"><shadow type=\"math_number\" id=\"im=:bFapHStHpT7))5R1\"><field name=\"NUM\">16.2</field></shadow></value><next><block type=\"iq_drivetrain_turn_to_heading\" id=\"TGNx[%6}!?V.ow{rND;3\"><field name=\"anddontwait_mutator\">FALSE</field><value name=\"HEADING\"><shadow type=\"math_number\" id=\"#R91?=vHxcga@|u#h+{~\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"iq_motion_set_motor_velocity\" id=\"jeBWutN+[XhN0`3h1pHt\"><field name=\"MOTOR\">Weel</field><field name=\"UNITS\">pct</field><value name=\"VELOCITY\"><shadow type=\"math_number\" id=\"zCYwHA{|p,/wz]DtJyy.\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"iq_motion_spin\" id=\"O}4{OeZHElx`fbbRkH=3\"><field name=\"MOTOR\">BlueGoal</field><field name=\"DIRECTION\">rev</field><next><block type=\"iq_control_wait\" id=\"4gnI!,s5Xy~).Z7*r8Ov\"><value name=\"DURATION\"><shadow type=\"math_positive_number\" id=\"_N:;^0Mgo5_#{If}`S+u\"><field name=\"NUM\">2.5</field></shadow></value><next><block type=\"iq_motion_stop_motor\" id=\"@y+W%DV{D(;0h*Zd_SQV\"><field name=\"MOTOR\">BlueGoal</field><next><block type=\"iq_drivetrain_drive_for\" id=\"#ckvVg)_lNc{2cU]]u`R\"><field name=\"DIRECTION\">rev</field><field name=\"UNITS\">in</field><field name=\"anddontwait_mutator\">FALSE</field><value name=\"AMOUNT\"><shadow type=\"math_number\" id=\"O|vA2;dgL2D?_,!Y.lyl\"><field name=\"NUM\">18.5</field></shadow></value><next><block type=\"iq_motion_spin\" id=\"E`8:K/TI0xF4MJ-YU=9|\"><field name=\"MOTOR\">BlueGoal</field><field name=\"DIRECTION\">fwd</field><next><block type=\"iq_control_wait\" id=\"zPujJ*dq6!sj.C/Anq,;\"><value name=\"DURATION\"><shadow type=\"math_positive_number\" id=\"G-y@,c61HoaRN!:Nbdte\"><field name=\"NUM\">5.5</field></shadow></value><next><block type=\"iq_motion_stop_motor\" id=\"UXmXrBYdhGeKD-ZYhQ._\"><field name=\"MOTOR\">BlueGoal</field><next><block type=\"iq_control_wait\" id=\"B+XC=Je!V$@E42g2dfO!\"><value name=\"DURATION\"><shadow type=\"math_positive_number\" id=\"J@]+Mu(KZ#2r?`3!c!hI\"><field name=\"NUM\">3.2</field></shadow></value><next><block type=\"iq_motion_spin\" id=\"tyZ8sAM00-lNes`{a?UQ\"><field name=\"MOTOR\">BlueGoal</field><field name=\"DIRECTION\">rev</field><next><block type=\"iq_control_wait\" id=\"07hhmq@tfb{9{{FzCA,~\"><value name=\"DURATION\"><shadow type=\"math_positive_number\" id=\"6DP]nOLiqfV^W/}M-U.`\"><field name=\"NUM\">2.5</field></shadow></value><next><block type=\"iq_motion_stop_motor\" id=\"}9wfl+[0H-me0rT|~GIV\"><field name=\"MOTOR\">BlueGoal</field><next><block type=\"iq_drivetrain_drive_for\" id=\"=5qb]WNW}C)8F-++boe{\"><field name=\"DIRECTION\">fwd</field><field name=\"UNITS\">in</field><field name=\"anddontwait_mutator\">FALSE</field><value name=\"AMOUNT\"><shadow type=\"math_number\" id=\"8UDjYMh*/hD_?$ydB}eb\"><field name=\"NUM\">12</field></shadow></value><next><block type=\"procedures_call\" id=\"BFx1xuowTu+^pba1uUGt\"><mutation proccode=\"fire %n discs\" proceduredefid=\"w%w!gT+4=^;;W|k6WHuv\" argumentids=\"[&quot;bWF`R,fHs!Y]#d3jio[A&quot;]\" warp=\"false\"></mutation><value name=\"bWF`R,fHs!Y]#d3jio[A\"><shadow type=\"math_number\" id=\"[jn=|-^cLE_*5syh`Bk_\"><field name=\"NUM\">19</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"iq_events_when_broadcasted\" id=\"(hI;blG||dZ7TX;dmVpm\" x=\"-10\" y=\"130\"><field name=\"BROADCAST_OPTION\" id=\"2.=Zx`EH7rvja[ZWgE|}\" variabletype=\"broadcast_msg\">BlueGoalUp</field></block><block type=\"iq_events_when_started\" id=\"FmTu39yWwHb^D/]8lD8(\" x=\"-110\" y=\"491\"><next><block type=\"iq_motion_set_motor_velocity\" id=\"YXaV[TEy!poJ.PmrJHtN\"><field name=\"MOTOR\">PurpleGoal</field><field name=\"UNITS\">pct</field><value name=\"VELOCITY\"><shadow type=\"math_number\" id=\"^PisBIP@jAM8hm*/*m|*\"><field name=\"NUM\">500</field></shadow></value><next><block type=\"iq_motion_set_motor_velocity\" id=\"[Fv(d?*UPt6Kqwa)@K^K\"><field name=\"MOTOR\">Weel</field><field name=\"UNITS\">pct</field><value name=\"VELOCITY\"><shadow type=\"math_number\" id=\"=7_y#TMszzs1UD*/-Vg#\"><field name=\"NUM\">500</field></shadow></value></block></next></block></next></block><block type=\"procedures_definition\" id=\"Vzh?5.#(_`94GH!0vjFe\" x=\"330\" y=\"650\"><statement name=\"custom_block\"><shadow type=\"procedures_prototype\" id=\"}!30NXk{SjlROeFC461U\"><mutation proccode=\"fire %n discs\" proceduredefid=\"}!30NXk{SjlROeFC461U\" argumentids=\"[&quot;bWF`R,fHs!Y]#d3jio[A&quot;]\" argumentnames=\"[&quot;discs&quot;]\" argumentdefaults=\"[&quot;todo&quot;]\" argumenttypes=\"[&quot;n&quot;]\" warp=\"false\"></mutation><value name=\"bWF`R,fHs!Y]#d3jio[A\"><shadow type=\"argument_reporter_number\" id=\"?G3E%n56(/adDg{ZWa{#\"><mutation funcname=\"fire_discs_discs\" argumentid=\"bWF`R,fHs!Y]#d3jio[A\" proceduredefid=\"}!30NXk{SjlROeFC461U\"></mutation><field name=\"VALUE\">discs</field></shadow></value></shadow></statement><next><block type=\"iq_variables_set_variable\" id=\"ye#=Uy9,sXcAsgQFlA0i\"><field name=\"VARIABLE\" id=\"^6/Xkwdc5.meIb/xE=l4\" variabletype=\"\">prongs</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"A)g2H+xxC3:rG),Gms=o\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"iq_other_comment\" id=\"zUKMS:_Hj`8a4N_zU[a`\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"Qak=/75JUXI{!zU;KWfW\"><field name=\"comment\">prongs variable: number of shots of shooting mech per full rotation of motor</field></shadow></value><next><block type=\"iq_other_comment\" id=\"g}PlfNZ=*:nz|r/?pD`9\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"~qwVqm64QgZ14MKN3:GI\"><field name=\"comment\">so if prongs = 3, then 3 discs will be fired per full mnotor rotation.</field></shadow></value><next><block type=\"iq_other_comment\" id=\"Mvq]e3^dA8cpT@FX4zNp\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"*oomFKfd-%OKey77Wjy.\"><field name=\"comment\">if prongs is mis-set, the shooting mech will not fire the correct number of times.</field></shadow></value><next><block type=\"iq_motion_spin_for\" id=\"7Ej.hnh.584iOIr9Vu}F\"><field name=\"MOTOR\">Weel</field><field name=\"DIRECTION\">rev</field><field name=\"UNITS\">deg</field><field name=\"anddontwait_mutator\">FALSE</field><value name=\"AMOUNT\"><shadow type=\"math_number\" id=\"qJHq,D0.PgOYBgk_4.Xi\"><field name=\"NUM\">90</field></shadow><block type=\"iq_operator_multiply\" id=\"Fh(W;F8h}Umj:OH9i,Au\"><value name=\"NUM1\"><shadow type=\"math_number\" id=\"AT)r%qEhmuqR2)78^=]!\"><field name=\"NUM\"></field></shadow><block type=\"argument_reporter_number\" id=\"wIK^jQJ+)!)4YqG/a6NC\"><mutation funcname=\"fire_discs_discs\" argumentid=\"bWF`R,fHs!Y]#d3jio[A\" proceduredefid=\"}!30NXk{SjlROeFC461U\"></mutation><field name=\"VALUE\">discs</field></block></value><value name=\"NUM2\"><shadow type=\"math_number\" id=\"@.1En*9TaY1GghA/fo@#\"><field name=\"NUM\">120</field></shadow><block type=\"iq_operator_divide\" id=\"`^2f)+COqa/y*%UWo7GN\"><value name=\"NUM1\"><shadow type=\"math_number\" id=\"wG3Xd%w1b5STW8q,i$qP\"><field name=\"NUM\">360</field></shadow></value><value name=\"NUM2\"><shadow type=\"math_number\" id=\"JiLBo_s|pu1K2F`$4z_l\"><field name=\"NUM\"></field></shadow><block type=\"iq_variables_variable\" id=\"2oAa#O(|oGRa@C8|.E:9\"><field name=\"VARIABLE\" id=\"^6/Xkwdc5.meIb/xE=l4\" variabletype=\"\">prongs</field></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></xml>","rconfig":[{"port":[8,11,0],"name":"Drivetrain","customName":false,"deviceType":"Drivetrain","deviceClass":"smartdrive","setting":{"type":"2-motor","wheelSize":"250mm","gearRatio":"1:1","direction":"fwd","gyroType":"integrated","width":"130","unit":"mm","wheelbase":"100","wheelbaseUnit":"mm","xOffset":"0","yOffset":"0","thetaOffset":"0"},"triportSourcePort":22},{"port":[12],"name":"Weel","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse"},"triportSourcePort":22},{"port":[7],"name":"BlueGoal","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"true","fwd":"forward","rev":"reverse"},"triportSourcePort":22},{"port":[4],"name":"PurpleGoal","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse"},"triportSourcePort":22}],"slot":5,"platform":"IQ","sdkVersion":"20220726.10.00.00","appVersion":"2.4.4","minVersion":"2.4.0","fileFormat":"1.2.0","icon":"","targetBrainGen":"Second","cppStatus":"true","cpp":"// Make sure all required headers are included.\n#include <stdio.h>\n#include <stdlib.h>\n#include <stdbool.h>\n#include <math.h>\n#include <string.h>\n\n\n#include \"vex.h\"\n\nusing namespace vex;\n\n// Brain should be defined by default\nbrain Brain;\n\n\n// START IQ MACROS\n#define waitUntil(condition)                                                   \\\n  do {                                                                         \\\n    wait(5, msec);                                                             \\\n  } while (!(condition))\n\n#define repeat(iterations)                                                     \\\n  for (int iterator = 0; iterator < iterations; iterator++)\n// END IQ MACROS\n\n\n// Robot configuration code.\ninertial BrainInertial = inertial();\nmotor LeftDriveSmart = motor(PORT8, 1, false);\nmotor RightDriveSmart = motor(PORT11, 1, true);\n\nsmartdrive Drivetrain = smartdrive(LeftDriveSmart, RightDriveSmart, BrainInertial, 250);\n\nmotor Weel = motor(PORT12, false);\nmotor BlueGoal = motor(PORT7, true);\nmotor PurpleGoal = motor(PORT4, false);\n\nvoid calibrateDrivetrain() {\n  wait(200, msec);\n  Brain.Screen.print(\"Calibrating\");\n  Brain.Screen.newLine();\n  Brain.Screen.print(\"Inertial\");\n  BrainInertial.calibrate();\n  while (BrainInertial.isCalibrating()) {\n    wait(25, msec);\n  }\n\n  // Clears the screen and returns the cursor to row 1, column 1.\n  Brain.Screen.clearScreen();\n  Brain.Screen.setCursor(1, 1);\n}\n\n// Generated code.\n\n// Include the IQ Library\n#include \"vex.h\"\n  \n// Allows for easier use of the VEX Library\nusing namespace vex;\n\n// User defined function\nvoid myblockfunction_fire_discs_discs(double myblockfunction_fire_discs_discs__discs);\n\nfloat prongs;\n\nevent message1 = event();\nevent BlueGoalUp = event();\nevent BlueGoalDn = event();\nevent fire = event();\n\n// User defined function\nvoid myblockfunction_fire_discs_discs(double myblockfunction_fire_discs_discs__discs) {\n  prongs = 3.0;\n  // prongs variable: number of shots of shooting mech per full rotation of motor\n  // so if prongs = 3, then 3 discs will be fired per full mnotor rotation.\n  // if prongs is mis-set, the shooting mech will not fire the correct number of times.\n  Weel.spinFor(reverse, (myblockfunction_fire_discs_discs__discs * (360.0 / prongs)), degrees);\n}\n\n// \"when started\" hat block\nint whenStarted1() {\n  BlueGoal.setMaxTorque(100.0, percent);\n  BlueGoal.setVelocity(100.0, percent);\n  BrainInertial.calibrate();\n  while (BrainInertial.isCalibrating()) { task::sleep(50); }\n  BrainInertial.setHeading(0.0, degrees);\n  Drivetrain.setDriveVelocity(50.0, percent);\n  Drivetrain.driveFor(forward, 37.5, inches);\n  Drivetrain.turnToHeading(90.0, degrees);\n  Drivetrain.driveFor(reverse, 9.0, inches);\n  Drivetrain.turnToHeading(0.0, degrees);\n  wait(0.2, seconds);\n  Drivetrain.driveFor(reverse, 55.0, mm);\n  wait(0.2, seconds);\n  Drivetrain.driveFor(forward, 50.0, mm);\n  Drivetrain.turnToHeading(270.0, degrees);\n  Drivetrain.driveFor(reverse, 16.2, inches);\n  Drivetrain.turnToHeading(0.0, degrees);\n  Weel.setVelocity(80.0, percent);\n  BlueGoal.spin(reverse);\n  wait(2.5, seconds);\n  BlueGoal.stop();\n  Drivetrain.driveFor(reverse, 18.5, inches);\n  BlueGoal.spin(forward);\n  wait(5.5, seconds);\n  BlueGoal.stop();\n  wait(3.2, seconds);\n  BlueGoal.spin(reverse);\n  wait(2.5, seconds);\n  BlueGoal.stop();\n  Drivetrain.driveFor(forward, 12.0, inches);\n  myblockfunction_fire_discs_discs(19.0);\n  return 0;\n}\n\n// \"when I receive BlueGoalUp\" hat block\nvoid onevent_BlueGoalUp_0() {\n}\n\n// \"when started\" hat block\nint whenStarted2() {\n  PurpleGoal.setVelocity(500.0, percent);\n  Weel.setVelocity(500.0, percent);\n  return 0;\n}\n\n\nint main() {\n  // Calibrate the Drivetrain Gyro\n  calibrateDrivetrain();\n\n  // register event handlers\n  BlueGoalUp(onevent_BlueGoalUp_0);\n\n  wait(15, msec);\n  vex::task ws1(whenStarted2);\n  whenStarted1();\n}","target":"Physical"}